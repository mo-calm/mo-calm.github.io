<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>公司名称与地址查询</title>
</head>
<body>
    <h1>公司名称与地址查询</h1>
    
    <!-- 根据公司名称获取GPS坐标，并自动查询邮政编码 -->
    <div>
        <h2>根据公司名称查询GPS坐标和邮政编码</h2>
        <input type="text" id="companyName" placeholder="输入公司名称">
        <button onclick="getCompanyCoordinates()">查询GPS坐标和邮政编码</button>
        <p>GPS坐标: <span id="companyGpsResult"></span></p>
        <p>邮政编码: <span id="companyPostalCodeResult"></span></p>
    </div>
    
    <!-- 根据公司地址获取GPS坐标，并查询邮政编码 -->
    <div>
        <h2>根据公司地址查询GPS坐标和邮政编码</h2>
        <input type="text" id="companyAddress" placeholder="输入公司地址">
        <button onclick="getAddressInfo()">查询GPS坐标和邮政编码</button>
        <p>GPS坐标: <span id="addressGpsResult"></span></p>
        <p>邮政编码: <span id="addressPostalCodeResult"></span></p>
    </div>

    <script>
        // 替换为你自己的API密钥
        const baiduApiKey = '9kvID90RWDu8jptBpIqli8onGBLBRdf7';
        const amapApiKey = '8f0e9579912740ff977485b53e633bdf';
        const tencentApiKey = 'OI7BZ-IZKRH-VU3DC-WY27O-CAJV2-CWBTI';

        // 使用百度地图API根据公司名称查询GPS坐标
        function getCompanyCoordinates() {
            var companyName = document.getElementById("companyName").value;
            fetch(`https://api.map.baidu.com/geocoding/v3/?address=${encodeURIComponent(companyName)}&output=json&ak=${baiduApiKey}`, {
                mode: 'no-cors' // 使用 no-cors 模式
            })
            .then(response => {
                // no-cors 模式下，response 将是空的，不能访问数据
                document.getElementById("companyGpsResult").innerText = "请求已发送，但由于CORS限制，无法获取响应数据。";
            })
            .catch(err => {
                console.error(err);
                document.getElementById("companyGpsResult").innerText = "请求失败";
            });
        }

        // 使用百度地图API根据公司地址查询GPS坐标和邮政编码
        function getAddressInfo() {
            var address = document.getElementById("companyAddress").value;
            fetch(`https://api.map.baidu.com/geocoding/v3/?address=${encodeURIComponent(address)}&output=json&ak=${baiduApiKey}`, {
                mode: 'no-cors' // 使用 no-cors 模式
            })
            .then(response => {
                // no-cors 模式下，response 将是空的，不能访问数据
                document.getElementById("addressGpsResult").innerText = "请求已发送，但由于CORS限制，无法获取响应数据。";
            })
            .catch(err => {
                console.error(err);
                document.getElementById("addressGpsResult").innerText = "请求失败";
            });
        }
    </script>
</body>
</html>
